(this["webpackJsonpreact-lap"]=this["webpackJsonpreact-lap"]||[]).push([[0],{160:function(e,t,a){e.exports=a.p+"static/media/icon-logo.c4645077.png"},166:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAAABHNCSVQICAgIfAhkiAAAARNJREFUWEftWdsRwjAMkzdgBDaADYBJYDSYBLoBbMAIbGCuf6HXh3VOGnLn/rZWVEVR41TQ2CWN8UXbhFVVvYqLyI8IuTGLgvcvH4RTC4yo8QLwmbHJBsAuvW+whAtzyRInEXlMEVbVI4A7SdiFGYQNlmhO4SuA98y62AK4TNmshiXoqE9nLQgbPPz3CvfR57rSaC1uCRfTkeIgPPTw2grT49VedEGYVgAA8+Gg8Ve1BM3OUDCyx863+TGMTz8ShAct0oGWcFAgIt1C25XPErk73ImuOQi7XGGItaIK3wztzDm65pmjg+Lby6I5nBu8Rko8DUdVe9LDLswlS9CJYUgJF2YQXlVheq4qFLT9j6OCYPSQX35FkDjIMCqrAAAAAElFTkSuQmCC"},167:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAABHNCSVQICAgIfAhkiAAAAW5JREFUWEftmOFRwkAQhd/rBCvQDoROsAM7QCvADsAO6EDsACvAErSCxyxDnAMScnMsucRk//Ajd7cf73Y32SU6YOwAI7oLKWkM4DGDyu8kv0/9nikpaQFgmgGwcPlEchn6P4I8KPiREdBc/wC4I2m/ezuFfAEwOzz7BbBpEDgMrwnJdQzkJ0mLzUZMkgJHA2Sy6i5KSnoDcJ9Mcb7Rys1fFntBWiB71s5Xkpaoe+sVpBX4keN1r8My46KkI1zpUS6QQ+L0LXGsTj44xubSvU46wrUucb5IPsf8Qa/sTnnjRH9J9QoyJXE2jV53TFxds8bluq8BiNn7/yElzZ2LeJWwYT8V3+MA2Gbowa1LHcW2tDGh5L3GAKckV+HBl/rucJ1tthJ0S7NhwKp2zCIpHA4UQAY4JtnkoOBIjDolswMabd2YJauChZxVkK1Q8BKkfVq1QsEqSAO0VjNbkpSVj+6Oo29ZDFPOHpRMUa1szw7qFl05tnuJKAAAAABJRU5ErkJggg=="},168:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAABHNCSVQICAgIfAhkiAAAAppJREFUWEftV4FRFTEU3K1ArUCpQKhAqUCtAK0AqECoQDoQKhAqECpQKlA60AqW2T/JTS4/d8kxGWZg7s38YYa8JJt97+17RzwB4xPAiBVkryitTK5M9mKg1zkPyklJuwA+BBB/AVyR/JeDkvQm+L0E4HX72X+RLQIZwH0D8L5wywnJ0/T/kn4DeJv5ngM4Lj1qCnkzyADwJwCzMmXnJL/ERUl+jPfkZvD7rUCXgPwDwOGrmVk6S4A6vK8Lmy5Ifq4d5vUmkJI+AviRHHgB4MhMBLYuAbyIOUpyJwHp8B5MgHnVwmYryBMAX8NF/81oergkM/I9AbJH0iGFpHRvjtUhv66x2QrSTMVqviE5KpxC7g2XV0CekvQjZq0VZMqGpWQnY/IIgKs+mtc3UvOYTOY56VC6ig3EDLtQYtXfkRwKTNLj5GRgxLnzrhYaAJ9IOj02JmlKFZpC3Vzd4TKzYwZjFZfwjmSloApxzy1Jd60ma8rJhBWH1KHNJcUV744z6GN4WN5x7HfWUiwp+kUgM7ADE1MyIsmPqvrV6HwQyNqhvdefH0hJrm4XUJQYh3LTWcJfF8TkKBaGFE9F9ov7qsTPMhlyyjponfSvxQzSEuRK3wKS6Kabgv0uSV7NHVwEGcAdeoiojGY10NZW6+GoP0tK26zP8MOsDh5ctmwLZAiJh4U5HbOURJZcwflgm19k2TlO1MHpYpHPzY9xMxhN+SOQgcFfhbnxLobG4GY+FTx4OC3iMJKCGHWYApvR95rk/qROFkau2zA3Vsep9NDwWKeKf0OHIjmQUhk8hlHP5+ZMzs1+tfxrWW8d4UZz5gqyQG0XJlOhbgnfUp+h6MI3+dSH3ag4n19bXEpbL/+VyZXJXgz0OmfNyV5M3gNvHxw5DbMdPgAAAABJRU5ErkJggg=="},169:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAASbSURBVFhH1ZhbaBxlFMf/385ssrm30agFa9pYIyiiVXIrtQrpgw8KfWxBQVDqg7SJNqYaa5FWrbVFsEIlUMWAl6IvWlsErYpostkY9KWgfbB4KVRCUhOTNpq5+T97aXYyE7s7OyPpDzabmd2Z+c35znfmfKscgiVOLPu+pLkiJBcd7umLDmIqu1EAlg3UVvKAIo4pFI/k0Bkb9x62YPzDjWLiPAmMva7j7WEbW9fHUCfCIeGRLO8xUJEAyrTCLyLfHJt0MLVPR3/SwZ6TFqb3xTMfhoArVjLEc4xgMYJC/l0mdGBmFmh5zczuKR2XZDoHQxilsnJg9HcHD79rZff8Nz/wuzuOWTh+iontQ2Szu6FKYeA7G/u/8r9wjgNfWLjzORODZxw8cMjCpre8NxZpCbq6VuHpjyx8+ZO/6CsnbfQO2BjcrWO4W8fYQR0fj9i4/4g7VcKVZKrkT0PF7avqgM43LPw87q50EsGd71sYeUHHuqZMjjXwpqZe1XFi1EH/4PyNhSop882wOPkYiDl558vktaqqgDUvmjDNjOgBzv7ed2xsvieGlhvck0Bq7eb1Cp/8GIGkKgM+P80J0KnhjusUVtcp3Lgs87q5XuHWaxUepNjhbyj4no0Pt2s4ymg99oF7aG3e2NGUg41r5uVddfLCrIPqnSYalrvvrhBsnmbqb+B0j46ma/yPf3PIxqP9JpLPx9G+WuHseQcrnzLxyMYYjmzRYBoO4txu5fCntrOWZQlNUhDRiWlgeSVQEVeu/JT//zjnINWno5WCOX6jaGOfia2dsXQ1WLtSIbltXlAIVTKHZTuuAi9XmJwCUk+6BXOM/OKg7SUTG25X+Ppxt6AQSQnS+FTQsy95QEz+BSSf8Bd0mIPth0x03OYvKERaJ9PDzwiOMILt2TKTj8O6Hes20bJKYWjBEOcTmWRakJ1RihEUCQ9MiViXgXXNMdck8SMSybTgn2z7ujW0LiKoGMHWZoXBbVp25+KELpkTTLIUdTR5Ty91UHWZuIv5ebkI5ghVMic4TMH2Rm8ELeagxgi23aQwyjQolNAkLwnu0NHmJ8hHYnmvgQ23KAwXGMEcoUheykHO4jafHJQhrmc7ZhnAsYcun4MLKVkyLcg6KIW6w6cOGhRb9iyfz3IlBnBmLrO/GEqSlIeV1MFU1+KFWiKoGLxy3ft5oQSWpB/GL3CZwGbVX5AR3CWCzMUSBIVAkiLIv6ivUNjCxnUhNnfV9BlwePZEiYJC4EhKWzaxV8d5NiWNe/J6QhZqEdSYf2EICoEkTYqsqOE/dBin6MRFoJmdN5iDNWy7dAqWOsT5BJI02NnfvSp3qMLMyzpsxSdJj4l4PFxBIfBw1ySAg1xM3cdOu/oZA+fY7DbUssqkF+/hEkiykl33wPc2dn1mY+hXmb1cbJWJXPiCQuBIVlOqNqGQoLA0uVESWPL/xCWZqX8RwvPL75jF4pKs5ipPTpS3NguN9DlZpVbUZXcUgef3yd2fWth73IYmwiFizQK9XF/v31R8F+SRFE6ddfAtl5k64yy/55SCnFya3bXXK/+lRAH4Si41roDZDfwLOfHgt8xmeWYAAAAASUVORK5CYII="},182:function(e,t,a){e.exports=a(284)},187:function(e,t,a){},212:function(e,t,a){},214:function(e,t,a){},224:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAA29JREFUWEfdmTtPKkEUx/9bQEIFtTaY2EviI3bAJ0BaYqIW2lDc3ZYGaGx3LGy0UBP6C59Ab2ehAXsTpdBWqEjYgpv/yHAHwmOHl15PYpxlZ+f89jzmcdbCgNi2HQOQApAAwHZksM+crxsAagDuAFSEEGz3xNIvHMf51el0xJwBTIZrWJZVcF33TD3UA7Rt+zeAPd7Y3t7Gzs4OVldXEQqFTBQY9221Wnh7e8P9/X378fEx2B2gLIRIsy0Bbdu2AbiBQMA7OTkJrK+vGyuaxwPPz8+4uLjwPM8LAHCEEMLqxlyVCrLZLL4KTr0gIc/Pz3nJ2EwSsAAgT7dmMpl5GGLmMUqlknJ3kYDMnvh3sN4QK/4h4AenktPT04UnhF/TMnFyuZx0MwE7bLmu6/f5pfRzHEfq+bmAjUYDT09PuLtjCAOxWAwbGxuIRqNzsfDUFnx9fUWxWMT19fVQkEQiIcOFwLPIVIC1Wg3JZBK03iS5urrC4eHhpG4j7xsDDsLF43GuQNjbk6sjeF8IgZubm57SWSCNARlb9XpdKh+nmKB0c7PZlH1fXl6miksjQMbb0dGRVJjP51EocPEZLUwchgLl4OBgZLyOG8MIkG6sVCoIh8O+4o+K1TORSAQfH1wLzMQIkEroMhNr6FavVqvGWW0EaFmf20Y/7lV20t18e3sr49JEfhYgJ12uGvxPd/kRTkFnZ587d8Ygw8REjCzI+U094MddnMjX1tZkQqVSKZTLZRM22dcIkIo4DzJRaAlacdSay77pdLq3Rvt5oWH0RoAcQM9KQtKqzGpdmBgcmJM1ZVrrGVtQQehxxd8IqjYF3ETwTxdamfe58iw0BnWljCeCqmVv0D2czHmf04paTQhJV5tAGrtYB2GcEZQuVVajckJxB8M2+/Ca2U8xhZwJ0G9KzgK5FEC+yLSQSwOcFnKpgMMgJ208lg6oQ7LNBBuX1TogDxjhZR3c1XlmHJx2cG/+F6UPWTza3Nxs7+/vq/qc35lkIf0Gi0c8wPL0Hf4OBSSt/MZTV6KvgBkMBr3j4+MvLWBeXl567Xb7XwFT2whw08biOba2ttq7u7vBlZWVhVe8mBDv7++yBPzw8KBCjMV0eeDuK6J3S8GMyfBCgmvyoHRrgaVf1bUPkD92S8KkV58hFg1LKPUZgsXzvs8QfwEx8zfuvr7xcgAAAABJRU5ErkJggg=="},225:function(e,t,a){},227:function(e,t,a){},272:function(e,t){},275:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),s=a.n(o),c=(a(187),a(35)),l=a(21),i=a(22),m=a(51),u=a(38),p=a(7),d={isAuthenticated:!1,user:{},allRooms:[],isRoomLoaded:!1,allPublicRooms:[],publicRoomsLoaded:!1,joiningNewRoom:!1,roomError:"",members:[]},h={currentUser:"",roomName:"",channels:[],users:[],selectedConversation:["channels",0],isChatLoaded:!1,isDirectMessagesLoaded:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MESSAGE":if("channels"===t.typeOfConversation){var a=e.channels.findIndex((function(e){return e.name===t.conversationName})),n=Object(u.a)(e.channels),r=n[a].messages;return n[a]=Object(p.a)(Object(p.a)({},n[a]),{},{messages:[].concat(Object(u.a)(r),[t.message])}),Object(p.a)(Object(p.a)({},e),{},{channels:n})}var o=e.users.findIndex((function(e){return e.name===t.conversationName}));console.log(t),console.log(o);var s=Object(u.a)(e.users),c=s[o].messages;return s[o]=Object(p.a)(Object(p.a)({},s[o]),{},{messages:[].concat(Object(u.a)(c),[t.message])}),Object(p.a)(Object(p.a)({},e),{},{users:s});case"CHANGE_COVERSATION":return Object(p.a)(Object(p.a)({},e),{},{selectedConversation:[t.typeOfCoversation,t.indexOfConversation]});case"INIT_CHANNELS":return console.log(t.channels),Object(p.a)(Object(p.a)({},e),{},{channels:t.channels});case"INIT_USERS_CONVO":return console.log(t.userConversations),Object(p.a)(Object(p.a)({},e),{},{users:t.userConversations});case"CHAT_LOADING_DONE":return Object(p.a)(Object(p.a)({},e),{},{isChatLoaded:!0});case"DIRECTS_LOADING_DONE":return Object(p.a)(Object(p.a)({},e),{},{isDirectMessagesLoaded:!0});case"INIT_ROOM":return console.log(t),Object(p.a)(Object(p.a)({},e),{},{roomName:t.roomName,channels:[],users:[],isChatLoaded:!1,isDirectMessagesLoaded:!1});case"CHANNEL_UPDATE":var l=e.channels,i=l.findIndex((function(e){return e.name===t.oldName})),m=l[i];return t.newName.length>0&&(m.name=t.newName),t.newDescription.length>0&&(m.description=t.newDescription),l[i]=m,Object(p.a)(Object(p.a)({},e),{},{channels:l});case"CHANNEL_DELETE":var d=e.channels,g=function(){return d.filter((function(e){return t.name!=e.name}))};return Object(p.a)(Object(p.a)({},e),{},{channels:g()});case"CHANNEL_CREATE":return Object(p.a)(Object(p.a)({},e),{},{channels:[].concat(Object(u.a)(e.channels),[t.chan])});case"ROOM_UPDATE":return Object(p.a)(Object(p.a)({},e),{},{roomName:t.room});default:return e}},E=Object(m.c)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return console.log(t.user),Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!!Object.keys(t.user).length,user:t.user});case"SET_ALL_ROOMS":return Object(p.a)(Object(p.a)({},e),{},{allRooms:t.allRooms});case"ROOM_LOADING_COMPLETE":return Object(p.a)(Object(p.a)({},e),{},{isRoomLoaded:!0});case"PUBLIC_ROOMS_LOADED":return Object(p.a)(Object(p.a)({},e),{},{publicRoomsLoaded:!0});case"INIT_PUBLIC_ROOMS":return Object(p.a)(Object(p.a)({},e),{},{allPublicRooms:t.allPublicRooms});case"JOINING_ROOM":return Object(p.a)(Object(p.a)({},e),{},{joiningNewRoom:!0});case"JOINED_ROOM":console.log(t.roomName);var a=e.allPublicRooms,n=a.indexOf(t.roomObject);-1!==n&&a.splice(n,1),console.log(a);var r=Object(u.a)(e.allRooms);return r.push(t.roomObject),console.log(r),Object(p.a)(Object(p.a)({},e),{},{allPublicRooms:a,allRooms:r,joiningNewRoom:!1});case"ROOM_LOADING_START":return Object(p.a)(Object(p.a)({},e),{},{isRoomLoaded:!1});case"SET_ROOM_ERROR":return Object(p.a)(Object(p.a)({},e),{},{roomError:t.errorMessage});case"MEMBERS":return Object(p.a)(Object(p.a)({},e),{},{members:t.members});default:return e}},chatReducer:g,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ERROR":return Object(p.a)(Object(p.a)({},e),{},{message:t.error});case"REMOVE_ERROR":return Object(p.a)(Object(p.a)({},e),{},{message:null});default:return e}}}),f=a(159);var v=a(11),b=a.n(v),A=a(24),O=a(123),C=a(52),N=a.n(C),w="https://safe-escarpment-42499.herokuapp.com";function R(e){e?N.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete N.a.defaults.headers.common.Authorization}function y(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(n,r){return N.a[e.toLowerCase()](t,a).then((function(e){return n(e.data)})).catch((function(e){return r(e.response.data.error)}))}))}var j=function(e){return{type:"ADD_ERROR",error:e}},k=function(){return{type:"REMOVE_ERROR"}};function S(e,t,a){return{type:"NEW_MESSAGE",message:e,typeOfConversation:t,conversationName:a}}a(209);function U(e){return console.log("Set current user"),{type:"SET_CURRENT_USER",user:e}}function M(e){return{type:"SET_ALL_ROOMS",allRooms:e}}function L(){return console.log("ROOM LOADED"),{type:"ROOM_LOADING_COMPLETE"}}function x(e){return{type:"INIT_PUBLIC_ROOMS",allPublicRooms:e}}function I(e){return{type:"JOINED_ROOM",roomObject:e}}function P(e){return{type:"SET_ROOM_ERROR",errorMessage:e}}function D(e,t,a){return{type:"CHANNEL_UPDATE",oldName:e,newName:t,newDescription:a}}function T(e){return{type:"CHANNEL_DELETE",name:e}}function B(e){R(e)}function F(){return function(e){return new Promise(function(){var t=Object(A.a)(b.a.mark((function t(a,n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("get","".concat(w,"/allRooms"),null);case 3:r=t.sent,console.log(r),e(M(r)),e(L()),a(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n();case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}())}}function G(){return function(e){return new Promise(function(){var t=Object(A.a)(b.a.mark((function t(a,n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("get","".concat(w,"/allRoomsDb"),null);case 3:r=t.sent,console.log(r),e(x(r)),e({type:"PUBLIC_ROOMS_LOADED"}),a(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n();case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}())}}var J=a(160),V=a.n(J),K=a(91),H=a.n(K),Q=a(92),Y=a.n(Q),W=a(93),z=a.n(W);a(212),a(85);function Z(e){return r.a.createElement("div",{className:"welcome-background container-fluid"},r.a.createElement("div",{className:"icon-section-welcome"},r.a.createElement("img",{src:V.a,alt:"icon",className:"icon",onClick:function(){return alert("ICON")}})),r.a.createElement("div",{className:"content-right"},r.a.createElement("p",{align:"right"},"Working From Home?"),r.a.createElement("br",null),r.a.createElement("div",{className:"title-description"},r.a.createElement("pre",{align:"right"},"Stay connected with your team."),r.a.createElement("pre",{align:"right"},"Communicate and Collaborate at"),r.a.createElement("pre",{align:"right"},"the same place!")),r.a.createElement("br",null),r.a.createElement("div",{className:"button-section"},r.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.history.push("/authenticate/signup")}},"Create your account"),r.a.createElement("div",{className:"spacer"}),r.a.createElement("button",{type:"button",className:"btn",onClick:function(){return e.history.push("/authenticate/signin")}},"Sign in to your account"))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"bottom-icon"},r.a.createElement("img",{src:H.a,alt:"footer-icon"})),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"footer-contents"},r.a.createElement("p",{style:{margin:"auto 0"}},"Contact Us"),r.a.createElement("div",{className:"bottom-icon"},r.a.createElement("img",{src:Y.a,alt:"facebook-icon "})),r.a.createElement("div",{className:"bottom-icon"},r.a.createElement("img",{src:z.a,alt:"twitter-icon "})))))}function q(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error 404."),r.a.createElement("br",null),r.a.createElement("h2",null,"Cannot find the page you requested."))}var X=a(65),_=a.n(X),$=a(44),ee=a(17),te=a(18),ae=a(20),ne=a(19),re=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();n.props.onAuth("login",n.state).then((function(){n.props.currentUser.isAuthenticated&&n.props.history.push("/rooms")})).catch((function(e){alert(e)}))},n.handleChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.state={password:"",email:""},n}return Object(te.a)(a,[{key:"render",value:function(){var e=this.props,t=e.errors,a=e.removeError;return e.history.listen((function(){a()})),r.a.createElement("div",{className:"form"},r.a.createElement("p",{className:"form-title"},"Sign in to your account"),r.a.createElement("p",{className:"form-subtitle"},"Enter your email ID password"),r.a.createElement("form",{className:"formclass form-group",onSubmit:this.handleSubmit},t.message&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},t.message),r.a.createElement("input",{id:"email",type:"email",placeholder:"someone@domain.com",name:"email",required:!0,onChange:this.handleChange,className:"form-control"}),r.a.createElement("input",{id:"password",type:"password",placeholder:"*******",name:"password",required:!0,onChange:this.handleChange,className:"form-control"}),r.a.createElement("br",null),r.a.createElement("button",{className:"form-submit form-submit-new form-control"},"Let's go!")),r.a.createElement("p",{className:"form-bottom-text"},"Don't have an account yet?",r.a.createElement(c.b,{to:"/authenticate/signup"}," Create One!")))}}]),a}(n.Component),oe=Object(l.f)(re),se=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();n.props.onAuth("signup",n.state).then((function(){n.props.history.push("/authenticate/signin")})).catch((function(){}))},n.handleChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.state={username:"",password:"",email:""},n}return Object(te.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.username,e.email,e.password,this.props),a=t.errors,n=t.removeError;return t.history.listen((function(){n()})),r.a.createElement("div",{className:"form"},r.a.createElement("p",{className:"form-title"},"Create a new account"),r.a.createElement("p",{className:"form-subtitle"},"Get started! It is as simple as it gets"),r.a.createElement("form",{className:"formclass",onSubmit:this.handleSubmit},a.message&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},a.message),r.a.createElement("input",{id:"username",type:"text",placeholder:"Username",name:"username",onChange:this.handleChange,required:!0}),r.a.createElement("input",{id:"email",type:"email",placeholder:"Your Email",name:"email",onChange:this.handleChange,required:!0}),r.a.createElement("input",{id:"password",type:"password",placeholder:"Your Password",name:"password",onChange:this.handleChange,required:!0}),r.a.createElement("br",null),r.a.createElement("button",{className:"form-submit form-submit-new"},"Let's go!")),r.a.createElement("p",{className:"form-bottom-text"},"Already have an account?",r.a.createElement(c.b,{to:"/authenticate/signin"}," Log In!")))}}]),a}(n.Component),ce=Object(l.f)(se);a(214);var le=Object(i.b)((function(e){return{currentUser:e.currentUser,errors:e.errors}}),{authUser:function(e,t){return function(a){return new Promise((function(n,r){return console.log("".concat(w).concat(e)),y("post","".concat(w).concat(e),t).then((function(e){var t=e.token,r=Object(O.a)(e,["token"]);localStorage.setItem("jwtToken",t),console.log(r),B(t),a(U(r.user)),a({type:"REMOVE_ERROR"}),n()})).catch((function(e){a(j(e.message)),r()}))}))}},removeError:k})((function(e){var t=e.authUser,a=e.errors,n=e.currentUser,o=e.removeError,s=null,c="",l="";return"signin"===e.match.params.type?(s=r.a.createElement(oe,Object.assign({currentUser:n,onAuth:t,errors:a,removeError:o},e)),c="Welcome Back!",l="Nice to see you again"):"signup"===e.match.params.type?(s=r.a.createElement(ce,Object.assign({onAuth:t,errors:a,removeError:o},e)),c="Hello there!",l="Get started with your team"):(console.log("Not Found"),e.history.push("/notfound")),r.a.createElement("div",{className:"auth-page container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"left col-md-6"},r.a.createElement("div",{className:"icon-section-auth"},r.a.createElement("img",{src:_.a,alt:"icon",className:"icon",onClick:function(){return alert("ICON")}})),r.a.createElement("div",{className:"welcome-text"},r.a.createElement("p",{className:"welcome-text-title"},c),r.a.createElement("p",{className:"welcome-text-subtitle"},l))),r.a.createElement("div",{className:"right col-md-6"},s),r.a.createElement("div",{className:"footer col-12"},r.a.createElement("div",{className:"bottom-icon"},r.a.createElement("img",{src:H.a,alt:"footer-icon",className:"img-fluid"})),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"footer-contents"},r.a.createElement("p",{style:{margin:"auto 0"}},"Contact Us"),r.a.createElement("div",{className:"bottom-icon"},r.a.createElement("img",{src:Y.a,alt:"facebook-icon "})),r.a.createElement("div",{className:"bottom-icon"},r.a.createElement("img",{src:z.a,alt:"twitter-icon "}))))))})),ie=a(45),me=a.n(ie),ue=a(342),pe=a(343),de=a(326),he=a(164),ge=a(165),Ee=a(346),fe=a(175),ve=a(120),be=(a(224),a(225),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={show:!1,invites:[],roomName:"",description:"",private:!0,task:""},e.handleClose=function(){e.setState({show:!1,invites:[]})},e.handleShow=function(){return e.setState({show:!0})},e.handleSubmit=function(){if(0!==e.state.roomName.length){var t={title:e.state.roomName,description:e.state.description,private:e.state.private,invites:e.state.invites};e.props.createRoom(t),e.setState({show:!1,invites:[]}),console.log(e.state.roomName,e.state.description,e.state.private,e.state.invites)}else e.props.setRoomError("Name can't be empty")},e.emailChangeHandler=function(t){e.setState({task:t.target.value})},e.nameChangeHandler=function(t){e.setState({roomName:t.target.value})},e.descriptionChangeHandler=function(t){e.setState({description:t.target.value})},e.privacyChangeHandler=function(t){"Public"===t.target.value?e.setState({private:!1}):e.setState({private:!0})},e.handleInvites=function(t){""!==t&&e.setState({invites:[].concat(Object(u.a)(e.state.invites),[t]),task:""})},e.joinedRoomNames=[],e.roomList=function(){if(e.props.allRooms)return e.props.allRooms.map((function(t,a){return r.a.createElement("button",{id:"roomlistdisp",key:a,type:"button",className:"list-group-item list-group-item-action rounded border border-dark",onClick:function(){e.props.initRoom(t.title),e.props.history.push("/chat")}},t.title,t.private&&r.a.createElement("i",null,"Private"),!t.private&&r.a.createElement("i",null,"Public"))}))},e.handlelogout=function(t){t.preventDefault(),console.log("called logout"),e.props.history.push("/authenticate/signin"),e.props.logout()},e.publicRoomList=function(){if(console.log(e.joinedRoomNames),e.props.allPublicRooms)return e.props.allPublicRooms.map((function(t,a){if(console.log(t.title),!e.joinedRoomNames.includes(t.title))return r.a.createElement("button",{id:"proomlistdisp",key:a,type:"button",className:"list-group-item list-group-item-action rounded border border-dark",onClick:function(){e.props.joinPublicRoom(t.title),console.log(t)}},t.title,t.private&&r.a.createElement("i",null,"Private"),!t.private&&r.a.createElement("i",null,"Public"))}))},e.modalElement=function(){return r.a.createElement(ue.a,{show:e.state.show,onHide:e.handleClose},r.a.createElement(ue.a.Header,{closeButton:!0},r.a.createElement(ue.a.Title,null,"Create Room")),r.a.createElement(ue.a.Body,null,r.a.createElement(pe.a,null,r.a.createElement(pe.a.Group,null,r.a.createElement(pe.a.Label,null,"Room Name"),r.a.createElement(pe.a.Control,{type:"text",placeholder:"Enter Name",onChange:e.nameChangeHandler})),r.a.createElement(pe.a.Group,null,r.a.createElement(pe.a.Label,null,"Description"),r.a.createElement(pe.a.Control,{type:"text",placeholder:"Enter Description",onChange:e.descriptionChangeHandler})),r.a.createElement(pe.a.Group,{controlId:"exampleForm.SelectCustom"},r.a.createElement(pe.a.Label,null,"Privacy"),r.a.createElement(pe.a.Control,{as:"select",custom:!0,onChange:e.privacyChangeHandler},r.a.createElement("option",null,"Private"),r.a.createElement("option",null,"Public"))),r.a.createElement(pe.a.Group,null,r.a.createElement(pe.a.Label,null,"Invite"),r.a.createElement(de.a,null,r.a.createElement(he.a,{sm:"10"},r.a.createElement(pe.a.Control,{type:"text",placeholder:"Enter Email",onChange:e.emailChangeHandler,value:e.state.task})),r.a.createElement(he.a,null,r.a.createElement(ge.a,{className:"float-right",onClick:function(){e.handleInvites(e.state.task)}},"Add"))),r.a.createElement(pe.a.Group,{style:{marginTop:20}},r.a.createElement(Ee.a,null,0===e.state.invites.length?null:e.state.invites.map((function(e){return r.a.createElement(fe.a,{style:{flexDirection:"row"}},e,r.a.createElement("span",{className:"glyphicon glyphicon-trash"}))})))),r.a.createElement(he.a,null)))),r.a.createElement(ue.a.Footer,null,r.a.createElement(ge.a,{variant:"outline-danger",onClick:e.handleClose},"Close"),r.a.createElement(ge.a,{variant:"outline-primary",onClick:e.handleSubmit},"Create!")))},e}return Object(te.a)(a,[{key:"componentDidMount",value:function(){localStorage.jwtToken?(R(localStorage.jwtToken),this.props.isAuthenticated||this.props.getCurrentUser(),this.props.getAllRoomsOfUser(),console.log("GETTING PUBLIC ROOMS"),this.props.getAllPublicRooms()):this.props.history.push("/authenticate/signin")}},{key:"render",value:function(){var e=this;return this.props.allRooms&&this.props.allRooms.forEach((function(t){e.joinedRoomNames.includes(t.title)||e.joinedRoomNames.push(t.title)})),this.props.roomError&&0!==this.props.roomError.length?r.a.createElement(ve.a,{onClose:function(){return e.props.setRoomError("")},dismissible:!0,variant:"danger"},r.a.createElement(ve.a.Heading,null,"Oh snap! You got an error!"),r.a.createElement("p",null,this.props.roomError)):r.a.createElement(me.a,{active:!this.props.isRoomLoaded||this.props.joiningNewRoom,spinner:!0,text:"Retrieving the rooms that you are in..."},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"icon-section-auth"},r.a.createElement("img",{src:_.a,alt:"icon",width:"5px",className:"icon",onClick:function(){return alert("ICON")}}))),r.a.createElement("li",{className:"navbar-brand"},r.a.createElement("button",{type:"button",id:"log",class:"btn btn-link","data-toggle":"tooltip","data-placement":"bottom",title:"Logout",onClick:this.handlelogout},this.props.username))),r.a.createElement("div",{className:"roompage"},r.a.createElement("div",{className:"form2"},r.a.createElement("div",{className:"form"},r.a.createElement("p",{className:"form-title"},"Discover  Rooms "),r.a.createElement("p",{className:"form-subtitle"},"Get Started !!  "),r.a.createElement("div",{className:"list-group"},this.publicRoomList()))),r.a.createElement("div",{className:"form1"},r.a.createElement("div",{className:"form"},r.a.createElement("p",{className:"form-title"},"Welcome !"),r.a.createElement("p",{className:"form-subtitle"},"Choose a Chat Room to Begin Chatting :) "),r.a.createElement("div",{className:"list-group"},this.roomList()),r.a.createElement("br",null),r.a.createElement("b",null," ",r.a.createElement("p",{className:"form-bottom-text"},"Don't have a room yet?",r.a.createElement("a",{href:"#",onClick:function(){e.handleShow(),console.log("BUTTON CLICK")},className:"new-room"}," Create One!")))))),this.modalElement())}}]),a}(r.a.Component)),Ae=Object(i.b)((function(e){return{isAuthenticated:e.currentUser.isAuthenticated,isRoomLoaded:e.currentUser.isRoomLoaded,allRooms:e.currentUser.allRooms,allPublicRooms:e.currentUser.allPublicRooms,joiningNewRoom:e.currentUser.joinPublicRoom,roomError:e.currentUser.roomError,username:e.currentUser.user.username}}),(function(e){return{getCurrentUser:function(){e((function(e){return new Promise(function(){var t=Object(A.a)(b.a.mark((function t(a,n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("get","".concat(w,"/me"),null);case 3:r=t.sent,e(U(r)),console.log(r),e({type:"REMOVE_ERROR"}),a(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),e(j(t.t0.message)),n();case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}())}))},getAllRoomsOfUser:function(){e(F())},initRoom:function(t){e(function(e){return{type:"INIT_ROOM",roomName:e}}(t))},getAllPublicRooms:function(){e(G())},joinPublicRoom:function(t){e(function(e){return function(t){return new Promise(function(){var a=Object(A.a)(b.a.mark((function a(n,r){var o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"JOINING_ROOM"}),a.next=4,y("post","".concat(w,"/rooms/").concat(e,"/join"),null);case 4:o=a.sent,t(I(o)),n(),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),r();case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t))},logout:function(){e((console.log("LOGOUT"),function(e){localStorage.clear(),B(!1),e(U({}))}))},createRoom:function(t){e(function(e){return function(t){return new Promise(function(){var a=Object(A.a)(b.a.mark((function a(n,r){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"ROOM_LOADING_START"}),a.next=4,y("post","".concat(w,"/rooms/"),e);case 4:t(F()),t(L()),n(),a.next=15;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),t(L()),t(P(a.t0.message)),r();case 15:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t))},setRoomError:function(t){e(P(t))}}}))(be);function Oe(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-icon-box"},r.a.createElement("img",{src:_.a,className:"icon",alt:"header-logo"})),r.a.createElement("div",{className:"chat-window-header"},r.a.createElement("div",{className:"room-option-button"},r.a.createElement("p",{className:"heading"},e.roomName)),r.a.createElement("div",{className:"spacer"}),r.a.createElement("div",{className:"user-section"},e.currentUser)))}var Ce=a(166),Ne=a.n(Ce),we=a(167),Re=a.n(we),ye=a(168),je=a.n(ye),ke=a(169),Se=a.n(ke);var Ue=function(e){return r.a.createElement("div",{className:"sidebar-layout"},r.a.createElement("ul",{className:"sidebar-list"},r.a.createElement("li",{className:"sidebar-list-item "+("dashboard"===e.current?"active":""),onClick:function(){e.updatedSelected("dashboard")}},r.a.createElement("div",{className:"tab-item"},r.a.createElement("img",{src:Ne.a,alt:"dashboard"}),r.a.createElement("p",null,"Dashboard"))),r.a.createElement("li",{className:"sidebar-list-item "+("chats"===e.current?"active":""),onClick:function(){e.updatedSelected("chats")}},r.a.createElement("div",{className:"tab-item"},r.a.createElement("img",{src:Re.a,alt:"dashboard"}),r.a.createElement("p",null,"Chats"))),r.a.createElement("li",{className:"sidebar-list-item "+("people"===e.current?"active":""),onClick:function(){e.updatedSelected("people")}},r.a.createElement("div",{className:"tab-item"},r.a.createElement("img",{src:je.a,alt:"dashboard"}),r.a.createElement("p",null,"People"))),r.a.createElement("li",{className:"sidebar-list-item "+("edit"===e.current?"active":""),onClick:function(){e.updatedSelected("edit")}},r.a.createElement("div",{className:"tab-item"},r.a.createElement("img",{src:Se.a,alt:"dashboard"}),r.a.createElement("p",null,"Edit")))))},Me=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.updateUser(n.state)},n.fileChange=function(e){n.setState({file:e.target.files[0]})},n.fileUpload=function(e){var t=new FormData;t.append("avatar",n.state.file,n.state.file.name),N.a.post(w+"/profilePic",t).then((function(e){console.log(e)}))},n.state={password:"",username:n.props.currentUser.user.username,status:n.props.currentUser.user.status,file:""},n}return Object(te.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.status,n=this.props.currentUser.user.avatar,o=w+"/"+n;return this.props.history.listen((function(){})),r.a.createElement("div",{class:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{class:"row",id:"main"},r.a.createElement("div",{class:"col-md-4 well",id:"leftPanel"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",null,r.a.createElement("img",{src:o,height:"200",width:"200",alt:"Avatar",class:"img-circle img-thumbnail"}),r.a.createElement("h2",null,t),r.a.createElement("input",{type:"file",name:"file",accept:"image/*",class:"form-control-file",id:"exampleFormControlFile1",onChange:this.fileChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success btn-block btn-sm",onClick:this.fileUpload},"Upload"))))),r.a.createElement("div",{class:"col-md-8 well",id:"rightPanel"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 "},r.a.createElement("form",null,r.a.createElement("h2",null,"Edit your profile.",r.a.createElement("small",null,"It's always easy")),r.a.createElement("br",null),r.a.createElement("br",null),this.props.error.message&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.error.message),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"username",id:"username",class:"form-control input-sm",onChange:this.handleChange,placeholder:t})),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{name:"password",id:"password",type:"password",class:"form-control input-sm",onChange:this.handleChange,placeholder:"Password",required:!0})),r.a.createElement("div",{class:"input-group mb-4 col-6 mx-auto"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("label",{class:"input-group-text",htmlFor:"inputGroupSelect01"},"Status")),r.a.createElement("select",{class:"custom-select",id:"inputGroupSelect01",name:"status",onChange:this.handleChange},r.a.createElement("option",{defaultValue:a},"Choose..."),r.a.createElement("option",{value:"Availabe"},"Availabe"),r.a.createElement("option",{value:"Busy"},"Busy"))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-12 col-md-4"}),r.a.createElement("div",{class:"col-xs-12 col-md-4"},r.a.createElement("button",{className:"btn btn-success btn-block btn-md",onClick:this.handleSubmit},"Save")))))))))}}]),a}(n.Component),Le=Object(l.f)(Object(i.b)((function(e){return{currentUser:e.currentUser,error:e.errors}}),(function(e){return{updateUser:function(t){var a;e((a=t,console.log("uu"),function(e){return new Promise(function(){var t=Object(A.a)(b.a.mark((function t(n,r){var o,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("then"),t.next=4,y("patch","".concat(w,"/users"),a);case 4:(o=t.sent).token,s=Object(O.a)(o,["token"]),e(U(s)),e({type:"REMOVE_ERROR"}),n(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),e(j(t.t0.message)),r();case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}())}))}}}))(Me)),xe=a(331),Ie=a(335),Pe=a(334),De=a(327),Te=a(332),Be=a(333),Fe=(a(227),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).callback=function(){n.props.getMembers(n.props.currentRoom.title)},n.handleClick=function(e){n.props.removeUser(n.props.currentRoom.title,e.target.name,n.callback)},n.handleMod=function(e){n.props.makeModerator(n.props.currentRoom.title,e.target.name,n.callback)},n}return Object(te.a)(a,[{key:"componentDidMount",value:function(){this.props.getMembers(this.props.currentRoom.title)}},{key:"render",value:function(){var e=this;return this.props.history.listen((function(){})),this.props.members[0]?r.a.createElement("div",{className:"mainbody"},this.props.error.message&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.error.message),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(De.a,null,r.a.createElement(xe.a,{"aria-label":"simple table"},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null,r.a.createElement(Pe.a,null,"Username"),r.a.createElement(Pe.a,{align:"right"},"Avatar"),r.a.createElement(Pe.a,{align:"right"},"Status"),r.a.createElement(Pe.a,{align:"right"},"Points"),this.props.currentRoom.owner===this.props.userid&&r.a.createElement(Pe.a,{align:"right"},"Moderator"),this.props.currentRoom.owner===this.props.userid&&r.a.createElement(Pe.a,{align:"right"},"Remove"))),r.a.createElement(Ie.a,null,this.props.members.map((function(t){return r.a.createElement(Be.a,{key:t._id},r.a.createElement(Pe.a,{component:"th",scope:"row"},t.username),r.a.createElement(Pe.a,{align:"right"},r.a.createElement("img",{src:w+"/"+t.avatar,className:"imgs"})),r.a.createElement(Pe.a,{align:"right"},t.status),r.a.createElement(Pe.a,{align:"right"},t.score),e.props.currentRoom.owner===e.props.userid&&r.a.createElement(Pe.a,{align:"right"},!t.moderator&&r.a.createElement("button",{className:"btn btn-info",id:"mod",name:t.username,onClick:e.handleMod},"Make"),t.moderator&&r.a.createElement("p",null,"Moderator")),e.props.currentRoom.owner===e.props.userid&&r.a.createElement(Pe.a,{align:"right"},r.a.createElement("button",{className:"btn btn-info",name:t._id,onClick:e.handleClick},"Remove")))})))))):r.a.createElement("div",{className:"mainbody"},r.a.createElement(me.a,{active:!this.props.members,text:"Loading Members...",spinner:!0}))}}]),a}(n.Component)),Ge=Object(i.b)((function(e){return{error:e.errors,members:e.currentUser.members}}),(function(e){return{getMembers:function(t){var a;e((a=t,function(e){return new Promise((function(t,n){return y("get","".concat(w,"/rooms/").concat(a,"/members"),null).then((function(a){e(function(e){return{type:"MEMBERS",members:e}}(a)),e({type:"REMOVE_ERROR"}),t()})).catch((function(t){alert(t.message),e(j(t.message)),n()}))}))}))},removeUser:function(t,a,n){e(function(e,t,a){return console.log(t),console.log(e),function(n){return new Promise(function(){var r=Object(A.a)(b.a.mark((function r(o,s){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,y("get","".concat(w,"/rooms/").concat(e,"/kick/").concat(t),null);case 3:r.sent,n({type:"REMOVE_ERROR"}),a(),o(),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0),n(j(r.t0.message)),s();case 14:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}())}}(t,a,n))},makeModerator:function(t,a,n){e(function(e,t,a){return function(n){return new Promise(function(){var r=Object(A.a)(b.a.mark((function r(o,s){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,y("post","".concat(w,"/room/").concat(e,"/moderator/").concat(t),null);case 3:r.sent,n({type:"REMOVE_ERROR"}),a(),o(),r.next=14;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0),n(j(r.t0.message)),s();case 14:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}())}}(t,a,n))}}}))(Fe),Je=a(338),Ve=a(340),Ke=a(121),He=a.n(Ke),Qe=a(122),Ye=a.n(Qe),We=a(104),ze=a(170),Ze=a.n(ze),qe=a(60),Xe=a.n(qe),_e=(a(275),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).state={show:!1,selectedFile:null,fileName:""},n.onChange=function(){n.setState({fileName:n.inputRef.current.files[0].name})},n.fileUpload=function(){var e;try{e=n.inputRef.current.files[0],n.props.sendFile(e),n.props.toggleFilePopUp()}catch(t){n.props.toggleFilePopUp()}},n.changeHandler=function(e){n.setState({task:e.target.value})},n.inputRef=r.a.createRef(),n}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement(ue.a,{show:this.props.filePopUpOpen,onHide:this.props.toggleFilePopUp},r.a.createElement(ue.a.Header,{closeButton:!0},r.a.createElement(ue.a.Title,null,"Create Room")),r.a.createElement(ue.a.Body,null,r.a.createElement("div",{className:"file-upload"},r.a.createElement("div",{className:"file-select"},r.a.createElement("div",{className:"file-select-button"},"Choose File"),r.a.createElement("input",{type:"file",name:"file",ref:this.inputRef,onChange:this.onChange}),r.a.createElement("div",{className:"file-select-name",id:"noFile"},""===this.state.fileName?"No file chosen":this.state.fileName)))),r.a.createElement(ue.a.Footer,null,r.a.createElement(ge.a,{variant:"outline-primary",onClick:this.fileUpload},"Send")))}}]),a}(r.a.Component)),$e=a(59),et=a(336),tt=a(42),at=a(163);var nt=function(e){var t=Object(n.useState)(""),a=Object($e.a)(t,2),o=a[0],s=a[1],c=Object(n.useState)(""),l=Object($e.a)(c,2),i=l[0],m=l[1];return r.a.createElement(ue.a,{show:e.codePopUpOpen,onHide:e.toggleCodePopUp,size:"lg"},r.a.createElement(ue.a.Header,{closeButton:!0},r.a.createElement(ue.a.Title,null,"Send a Code Snippet")),r.a.createElement(ue.a.Body,null,r.a.createElement(pe.a.Group,null,r.a.createElement(pe.a.Label,null,"Language"),r.a.createElement(et.a,{id:"dropdown-basic-button",title:""===o?"Select Language":o},r.a.createElement(tt.a.Header,null,"Select Language"),["Java","JavaScript","C/C++","Python","C#","CSS"].map((function(e){return r.a.createElement(tt.a.Item,{onClick:function(){return s(e)},key:e},e)})))),r.a.createElement(pe.a.Group,null,r.a.createElement(pe.a.Label,null,"The code snippet"),r.a.createElement("div",{style:{flex:1}},r.a.createElement(at.a,{as:"textarea",style:{height:"40vh"},value:i,onChange:function(e){return m(e.target.value)}})))),r.a.createElement(ue.a.Footer,null,r.a.createElement(ge.a,{variant:"outline-danger",onClick:e.toggleCodePopUp},"Close"),r.a.createElement(ge.a,{variant:"outline-primary",onClick:function(){return e.sendCode(o,i)}},"Send")))},rt=a(341),ot=a(337),st=a(344),ct=a(171),lt=a.n(ct),it=a(345),mt=a(347),ut=Object(ot.a)((function(e){return{typography:{padding:e.spacing(2),fontSize:10}}}));var pt=function(e){ut();var t=r.a.useState(null),a=Object($e.a)(t,2),n=a[0],o=a[1],s=function(){o(null)},c=Boolean(n),l=c?"simple-popover":void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message-options"},r.a.createElement("button",{className:"attach-button","aria-describedby":l,variant:"contained",color:"primary",onClick:function(e){o(e.currentTarget)}},r.a.createElement(lt.a,{color:"primary"})),r.a.createElement(st.a,{id:l,open:c,anchorEl:n,onClose:s,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"center"}},r.a.createElement(Je.a,{component:"nav"},r.a.createElement(it.a,{button:!0,onClick:function(){if(console.log("LOCATION"),!navigator.geolocation)return alert("GeoLocation is not supported by your browser");navigator.geolocation.getCurrentPosition((function(t){console.log(t);var a="https://google.com/maps?q="+t.coords.latitude+","+t.coords.longitude;e.sendLocation(a)}))}},r.a.createElement(mt.a,{primary:"Send Location"})),r.a.createElement(it.a,{button:!0,onClick:function(){s(),e.toggleFilePopUp()}},r.a.createElement(mt.a,{primary:"Send file"})),r.a.createElement(it.a,{button:!0,onClick:function(){s(),e.toggleCodePopUp()}},r.a.createElement(mt.a,{primary:"Send a code snippet"}))))),r.a.createElement("div",{className:"message-text"},r.a.createElement(rt.a,{name:"new-message",placeholder:"New Message",id:"new-message-text-field",variant:"outlined",multiline:!0,value:e.currentMessage,onChange:e.messageOnChange})),r.a.createElement("button",{className:"send-button",onClick:e.sendOnClick},"Send"))},dt=a(339),ht=a(172),gt=a.n(ht),Et=a(278);function ft(e){var t=r.a.useState(!1),a=Object($e.a)(t,2),n=a[0],o=a[1];function s(){console.log("HOVERED"),o(!n)}var c=function(e){console.log(e);var t=e.split("=")[1].split(",");return console.log([t[1],t[0]]),t[1].toString()+", "+t[0].toString()};"location"===e.messageObject.type&&c(e.messageObject.content);var l=function(){return r.a.createElement(tt.a,{as:dt.a},r.a.createElement(tt.a.Toggle,{split:!0,variant:"success",id:"dropdown-split-basic",size:"sm"}),r.a.createElement(tt.a.Menu,null,r.a.createElement(tt.a.Item,{onClick:function(){console.log("Report!")}},"Report")))};return r.a.createElement("div",{className:"message",key:e.keyValue},e.messageObject.owner===e.currentUser?r.a.createElement("div",{className:"spacer"}):null,r.a.createElement("div",{onMouseEnter:s,onMouseLeave:s,className:"message-area"+(e.messageObject.owner===e.currentUser?" current-user":" other-user")+(e.messageObject.type.includes("code")?" code-area":"")+(e.messageObject.type.includes("file")?" file-area":"")},r.a.createElement("div",{className:"message-user"},r.a.createElement("div",{className:"user-name"},e.messageObject.owner),r.a.createElement("div",{className:"spacer"}),n?r.a.createElement("div",{className:"options"},r.a.createElement(l,null)):null),"text"===e.messageObject.type?r.a.createElement("div",{className:"message-content"},e.messageObject.content):"location"===e.messageObject.type?r.a.createElement("div",{className:"location-content"},r.a.createElement("a",{href:e.messageObject.content},e.messageObject.content),r.a.createElement("img",{src:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/static/".concat(c(e.messageObject.content),",11,0/400x200@2x?access_token=pk.eyJ1Ijoic2F0dmlrZGFuZGFsZSIsImEiOiJja2JpMmJkdGQwYjZhMnRwamlmYmhmZDQ5In0.xEAG7PvsDEt0lM4PCUQ_NA&logo=false"),alt:"location-image",className:"static-map"})):e.messageObject.type.includes("code")?r.a.createElement("div",{className:"message-content "},r.a.createElement("pre",null,r.a.createElement("code",{className:"language-"+e.messageObject.type.split("/")[1].toLowerCase()},"".concat(e.messageObject.content)))):r.a.createElement("div",{className:"message-content",onClick:function(){e.downloadFile(e.messageObject.content,(function(t){!function(e,t){console.log("HEY"),console.log(e),Et(e,t)}(t,e.messageObject.type.split("/")[1])}))}},r.a.createElement(gt.a,null),e.messageObject.type.split("/")[1]),r.a.createElement("div",{className:"message-time"},e.messageObject.time)))}var vt=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"componentDidMount",value:function(){Xe.a.highlightAll();var e=this.refs.messageScrollbar.getScrollHeight();this.refs.messageScrollbar.scrollTop(e)}},{key:"componentDidUpdate",value:function(){Xe.a.highlightAll();var e=this.refs.messageScrollbar.getScrollHeight();this.refs.messageScrollbar.scrollTop(e)}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(We.Scrollbars,{autoHide:!0,ref:"messageScrollbar"},this.props.messageList.map((function(t,a){var n=new Date(t.createdAt).toTimeString().split(" ")[0],o={content:t.content,owner:"unknown",type:t.type,time:n};return t.owner&&(t.owner.username?o.owner=t.owner.username:o.owner=t.owner),Xe.a.highlightAll(),r.a.createElement(ft,{keyValue:a,messageObject:o,currentUser:e.props.currentUser,downloadFile:e.props.downloadFile})})))}}]),a}(r.a.Component),bt=Object(i.b)(null,(function(e){return{downloadFile:function(t,a){e(function(e,t){var a=localStorage.jwtToken,n={address:e},r={"Content-Type":"application/json",Authorization:"Bearer ".concat(a)};return function(e){return new Promise(function(){var a=Object(A.a)(b.a.mark((function a(o,s){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.a.post(w+"/download",n,{headers:r});case 3:c=a.sent,t(c),o(),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),alert(a.t0.message),e(j(a.t0.message)),s();case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}())}}(t,a))}}}))(vt),At=function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={message:"",filePopUpOpen:!1,codePopUpOpen:!1},e.toggleFilePopUp=function(){e.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{filePopUpOpen:!e.filePopUpOpen})}))},e.toggleCodePopUp=function(){e.setState((function(e){return Object(p.a)(Object(p.a)({},e),{},{codePopUpOpen:!e.codePopUpOpen})}))},e.handleNewMessageChange=function(t){e.setState({message:t.target.value})},e.sendLocation=function(t){var a={content:t,owner:{username:e.props.currentUser},createdAt:new Date(Date.now()).toISOString(),type:"location"},n="";"channels"===e.props.currentConversation[0]?(n=e.props.currentConversation[1].name,e.props.sendMessage(t,n,!0,"location")):(n=e.props.currentConversation[1].name,e.props.sendMessage(t,n,!1,"location")),e.props.addNewMessage(a,e.props.currentConversation[0],n)},e.addNewMessage=function(){if(0!==e.state.message.length){var t={content:e.state.message,owner:{username:e.props.currentUser},createdAt:new Date(Date.now()).toISOString(),type:"text"},a="";"channels"===e.props.currentConversation[0]?(a=e.props.currentConversation[1].name,e.props.sendMessage(e.state.message,a,!0,"text")):(a=e.props.currentConversation[1].name,e.props.sendMessage(e.state.message,a,!1,"text")),e.props.addNewMessage(t,e.props.currentConversation[0],a),e.setState({message:""})}},e.sendCode=function(t,a){if(e.toggleCodePopUp(),console.log(t),console.log(a),0!==a.length&&0!==t.length){var n={content:a,owner:{username:e.props.currentUser},createdAt:new Date(Date.now()).toISOString(),type:"code/".concat(t)},r="";"channels"===e.props.currentConversation[0]?(r=e.props.currentConversation[1].name,e.props.sendMessage(a,r,!0,"code/".concat(t))):(r=e.props.currentConversation[1].name,e.props.sendMessage(a,r,!1,"code/".concat(t))),e.props.addNewMessage(n,e.props.currentConversation[0],r),e.render(),e.setState({message:""}),Xe.a.highlightAll()}},e.sendFile=function(t){console.log("SEND FILE"),console.log(t),e.props.uploadFile(t,t.name,(function(a){console.log(a);var n={content:a,owner:{username:e.props.currentUser},createdAt:new Date(Date.now()).toISOString(),type:"file/"+t.name},r="";"channels"===e.props.currentConversation[0]?(r=e.props.currentConversation[1].name,e.props.sendMessage(a,r,!0,"file/"+t.name)):(r=e.props.currentConversation[1].name,e.props.sendMessage(a,r,!1,"file/"+t.name)),e.props.addNewMessage(n,e.props.currentConversation[0],r)}))},e}return Object(te.a)(a,[{key:"componentDidMount",value:function(){Xe.a.highlightAll()}},{key:"render",value:function(){var e="",t=null,a=null;return"channels"===this.props.currentConversation[0]?(e=(a=this.props.currentConversation[1]).name,t=a.description,!1):(e=(a=this.props.currentConversation[1]).name,!0),r.a.createElement("div",{className:"chat-area-border"},r.a.createElement("div",{className:"chat-header"},r.a.createElement("div",{className:"chat-name"},e),r.a.createElement("div",{className:"chat-description"},t||"No Description")),r.a.createElement("div",{className:"chat-message"},r.a.createElement(bt,{currentUser:this.props.currentUser,messageList:a.messages})),r.a.createElement("div",{className:"new-message"},r.a.createElement(pt,{currentMessage:this.state.message,messageOnChange:this.handleNewMessageChange,sendOnClick:this.addNewMessage,sendLocation:this.sendLocation,toggleCodePopUp:this.toggleCodePopUp,toggleFilePopUp:this.toggleFilePopUp})),r.a.createElement(_e,{filePopUpOpen:this.state.filePopUpOpen,toggleFilePopUp:this.toggleFilePopUp,sendFile:this.sendFile}),r.a.createElement(nt,{codePopUpOpen:this.state.codePopUpOpen,toggleCodePopUp:this.toggleCodePopUp,sendCode:this.sendCode}))}}]),a}(r.a.Component),Ot=Object(i.b)((function(e){return{currentUser:e.currentUser.user.username}}),(function(e){return{addNewMessage:function(t,a,n){e(S(t,a,n))},uploadFile:function(t,a,n){e(function(e,t,a){var n=new FormData;return n.append("avatar",e,t),function(e){return new Promise(function(){var t=Object(A.a)(b.a.mark((function t(r,o){var s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("POST",w+"/upload",n);case 3:s=t.sent,a(s.address),r(),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),alert(t.t0.message),e(j(t.t0.message)),o();case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}())}}(t,a,n))}}}))(At),Ct=(a(279),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).socket=Ze()(w),e.room=e.props.roomName,e.token=localStorage.jwtToken,e.state={channelCollapse:!1,messageCollpase:!1,roomDetails:null},e.sendMessage=function(t,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",o={room:e.room,msg:t,token:e.token,type:r};n?o.channel=a:o.to=a,console.log(o),e.socket.emit("send",o,(function(e){if(e)return console.log(e),alert(e.message);console.log("Message Sent")}))},e.listElement=function(t){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r.a.createElement(Je.a,{component:"nav"},t.map((function(t,n){return r.a.createElement("ul",{key:n,className:"channel-list-ul "+(0===n?"first":""),onClick:function(){e.props.changeConversation(a?"channels":"users",n)}},r.a.createElement("div",null,t.name))})))},e}return Object(te.a)(a,[{key:"componentDidMount",value:function(){var e=this;""!==this.props.roomName?localStorage.jwtToken?(this.props.getAllChannelMessages(this.room),console.log("DIRECT MESSAGES ROOM"),console.log(this.room),this.props.getAllDirectMessages(this.room),this.socket.emit("join",{username:this.props.username,room:this.room,token:this.token},(function(t,a){t?(console.log(t),alert(JSON.stringify(t))):(console.log(a),e.setState({roomDetails:a}))})),this.socket.on("recieve",(function(t){var a=t.username,n=t.msg,r=t.room,o=t.channel,s=t.to,c=t.time,l=t.type;if(console.log({username:a,msg:n,room:r,channel:o,time:c}),r===e.room&&a!==e.props.currentUser){var i={content:n,owner:{username:a},createdAt:c,type:l};console.log(i),o?e.props.addNewMessage(i,"channels",o):s&&(s===e.props.currentUser&&(s=i.owner.username),e.props.addNewMessage(i,"users",s))}else e.render()})),setTimeout((function(){e.setState({channelCollapse:!0,messageCollpase:!0})}),500)):this.props.history.push("/authenticate/signin"):this.props.history.push("/rooms")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-area chat-area"},r.a.createElement("div",{className:"chat-list"},r.a.createElement("div",{className:"chat-list-subtitle"},r.a.createElement("p",null,"Your channels")),r.a.createElement("div",{className:"channel-list"},r.a.createElement(We.Scrollbars,{autoHide:!0},r.a.createElement("div",{className:"channel-list-header",onClick:function(){return e.setState({channelCollapse:!e.state.channelCollapse})}},"Channels",this.state.channelCollapse?r.a.createElement(He.a,null):r.a.createElement(Ye.a,null)),r.a.createElement(Ve.a,{in:this.state.channelCollapse,timeout:"auto",unmountOnExit:!0},r.a.createElement("div",null,this.props.isChatLoaded?this.listElement(this.props.channels):null)),r.a.createElement(me.a,{active:!this.props.isDirectMessagesLoaded&&this.props.isChatLoaded,spinner:!0,text:"Loading"},r.a.createElement("div",{className:"channel-list-header",onClick:function(){return e.setState({messageCollpase:!e.state.messageCollpase})}},"Direct Messages",this.state.messageCollpase?r.a.createElement(He.a,null):r.a.createElement(Ye.a,null)),r.a.createElement(Ve.a,{in:this.state.messageCollpase,timeout:"auto",unmountOnExit:!0},r.a.createElement("div",null,this.props.isDirectMessagesLoaded?this.listElement(this.props.users,!1):null)))))),r.a.createElement("div",{className:"chat-box"},this.props.isChatLoaded?r.a.createElement(Ot,{currentConversation:"channels"===this.props.selectedConversation[0]?[this.props.selectedConversation[0],this.props.channels[this.props.selectedConversation[1]]]:[this.props.selectedConversation[0],this.props.users[this.props.selectedConversation[1]]],sendMessage:this.sendMessage}):null))}}]),a}(r.a.Component)),Nt=Object(i.b)((function(e){return{currentUser:e.currentUser.user.username,roomName:e.chatReducer.roomName,channels:e.chatReducer.channels,users:e.chatReducer.users,selectedChannelIndex:e.chatReducer.selectedChannelIndex,selectedConversation:e.chatReducer.selectedConversation,isChatLoaded:e.chatReducer.isChatLoaded,isDirectMessagesLoaded:e.chatReducer.isDirectMessagesLoaded}}),(function(e){return{addNewMessage:function(t,a,n){e(S(t,a,n))},changeConversation:function(t,a){e(function(e,t){return{type:"CHANGE_COVERSATION",typeOfCoversation:e,indexOfConversation:t}}(t,a))},getAllChannelMessages:function(t,a){e(function(e){return function(t){return new Promise((function(a,n){return y("GET",w+"/allMessages/".concat(e)).then((function(e){console.log(e);var n=[];for(var r in e){var o={name:r,messages:e[r].messages,description:e[r].description};n.push(o)}t(function(e){return{type:"INIT_CHANNELS",channels:e}}(n)),t({type:"CHAT_LOADING_DONE"}),a()})).catch((function(e){alert(e.message),t(j(e.message)),n()}))}))}}(t))},getAllDirectMessages:function(t,a){e(function(e){return function(t){return new Promise((function(a,n){return y("GET",w+"/allDirectMessages/".concat(e)).then((function(e){console.log(e);var n=[];for(var r in e){var o={name:r,messages:e[r]};n.push(o)}t(function(e){return{type:"INIT_USERS_CONVO",userConversations:e}}(n)),t({type:"DIRECTS_LOADING_DONE"}),a()})).catch((function(e){alert(e.message),t(j(e.message)),n()}))}))}}(t))},directMessagesLoadingCompleted:function(){e({type:"DIRECTS_LOADING_DONE"})}}}))(Object(l.f)(Ct)),wt=(a(280),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(e){var n;return Object(ee.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({channelname:e.target.name,title:e.target.value})},n.handleChannelUpdate=function(e){e.preventDefault(),n.props.updateChannel(n.state)},n.handleChannelDelete=function(e){e.preventDefault(),n.props.deleteChannel(n.state.roomname,e.target.name)},n.handleCreate=function(e){n.props.createChannel(n.state)},n.handleDescription=function(e){n.setState({channelname:e.target.name,description:e.target.value})},n.channelList=function(){if(console.log("channelList"),n.props.channels[0])return n.props.channels.map((function(e,t){return r.a.createElement("div",null,"general"!=e.name&&"chill"!=e.name&&r.a.createElement("div",null,r.a.createElement("h4",null,"Edit Your Channels"),r.a.createElement("div",{className:"input-group mb-3",id:"rch"},r.a.createElement("input",{type:"text",className:"form-control rounded",name:e.name,placeholder:e.name,onChange:n.handleChange}),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text rounded"},"Description")),r.a.createElement("textarea",{className:"form-control rounded",name:e.name,placeholder:e.description,onChange:n.handleDescription})),r.a.createElement("button",{className:"btn btn-info border rounded-pill ",type:"button",onClick:n.handleChannelUpdate},"Update"),r.a.createElement("button",{className:"btn btn-info border rounded-pill ",name:e.name,type:"button",onClick:n.handleChannelDelete},"Delete"))))}))},n.handleRoomUpdate=function(e){e.preventDefault(),n.props.updateRoom(n.props.roomName,n.state)},n.handleRoomDelete=function(e){n.props.deleteRoom(n.state.roomname),n.props.history.push("/rooms")},n.handleChecked=function(e){"true"===e.target.value?n.setState({private:!0}):n.setState({private:!1})},n.state={channelname:"",roomname:n.props.roomName,title:"",description:"",newchannel:"",private:n.props.currentRoom.private},n}return Object(te.a)(a,[{key:"render",value:function(){var e=this.props.currentRoom,t=e.title,a=e.description,n=e.owner;return this.props.history.listen((function(){})),this.props.userid===n?r.a.createElement("div",null,this.props.error.message&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.error.message),r.a.createElement("div",{className:"mainbody"},r.a.createElement("form",{className:"formchannel"},this.channelList(),r.a.createElement("br",null),r.a.createElement("h4",null,"Create new Channel!"),r.a.createElement("div",{className:"input-group mb-3 ",id:"ch"},r.a.createElement("input",{type:"text",className:"form-control rounded",name:"title",placeholder:"Channel name",onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text rounded"},"Description")),r.a.createElement("textarea",{className:"form-control rounded",placeholder:"Enter Description here",onChange:this.handleDescription})),r.a.createElement("button",{className:"btn btn-info border rounded-pill ",type:"button",onClick:this.handleCreate},"Create"))),r.a.createElement("hr",null),r.a.createElement("form",{className:"formroom"},r.a.createElement("h4",null,"Edit Your Room"),r.a.createElement("div",{className:"input-group mb-3 ",id:"rh"},r.a.createElement("input",{type:"text",className:"form-control rounded",placeholder:t,onChange:this.handleChange,required:!0}),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Description")),r.a.createElement("textarea",{className:"form-control rounded",placeholder:a,onChange:this.handleDescription})),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{class:"form-check"},r.a.createElement("input",{class:"form-check-input",type:"radio",name:"pri",id:"priv",value:"true",onChange:this.handleChecked}),r.a.createElement("label",{class:"form-check-label",for:"priv"},"Private"),r.a.createElement("span",null,"   "),r.a.createElement("input",{class:"form-check-input",type:"radio",name:"pri",id:"pub",value:"false",onChange:this.handleChecked}),r.a.createElement("label",{class:"form-check-label",for:"pub"}," Public ")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-info border rounded-pill ",type:"button",onClick:this.handleRoomUpdate},"Update"),r.a.createElement("button",{className:"btn btn-info border rounded-pill ",type:"button",onClick:this.handleRoomDelete},"Delete"))))):r.a.createElement("div",{className:"textdiv"},r.a.createElement("br",null),r.a.createElement("h5",null,"Sorry you cannot view the contents , You are not the owner of this room !"))}}]),a}(n.Component)),Rt=Object(l.f)(Object(i.b)((function(e){return console.log("mstp"),{roomName:e.chatReducer.roomName,channels:e.chatReducer.channels,error:e.errors}}),(function(e){return{updateChannel:function(t){e(function(e){var t=e.roomname,a=e.channelname,n=e.title,r=e.description;return function(o){return new Promise(function(){var s=Object(A.a)(b.a.mark((function s(c,l){return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,console.log(e),s.next=4,y("patch","".concat(w,"/room/").concat(t,"/channels/").concat(a),e);case 4:s.sent,o(D(a,n,r)),o({type:"REMOVE_ERROR"}),c(),s.next=15;break;case 10:s.prev=10,s.t0=s.catch(0),console.log(s.t0),o(j(s.t0.message)),l();case 15:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e,t){return s.apply(this,arguments)}}())}}(t))},deleteChannel:function(t,a){e(function(e,t){return console.log(t),function(a){return new Promise(function(){var n=Object(A.a)(b.a.mark((function n(r,o){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y("delete","".concat(w,"/room/").concat(e,"/channels/").concat(t),null);case 3:n.sent,a(T(t)),a({type:"REMOVE_ERROR"}),r(),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),a(j(n.t0.message)),o();case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}())}}(t,a))},createChannel:function(t){e(function(e){var t=e.roomname;return function(a){return new Promise(function(){var n=Object(A.a)(b.a.mark((function n(r,o){var s,c;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y("post","".concat(w,"/channels/").concat(t),e);case 3:s=n.sent,console.log(s),c={name:s.title,description:s.description,messages:[]},a((l=c,console.log("newChannel"),{type:"CHANNEL_CREATE",chan:l})),a({type:"REMOVE_ERROR"}),r(),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0),a(j(n.t0.message)),o();case 16:case"end":return n.stop()}var l}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}())}}(t))},updateRoom:function(t,a){e(function(e,t){return t.title||(t.title=e),function(a){return new Promise(function(){var n=Object(A.a)(b.a.mark((function n(r,o){var s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y("patch","".concat(w,"/rooms/").concat(e),t);case 3:return s=n.sent,a({type:"REMOVE_ERROR"}),n.abrupt("return",r(s));case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),a(j(n.t0.message)),o();case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}())}}(t,a))},deleteRoom:function(t){var a;e((a=t,function(e){return new Promise(function(){var t=Object(A.a)(b.a.mark((function t(n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("delete","".concat(w,"/rooms/").concat(a),null);case 3:t.sent,e(G()),e(F()),e({type:"REMOVE_ERROR"}),n(),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),e(j(t.t0.message)),r();case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}())}))}}}))(wt)),yt=(a(281),function(e){Object(ae.a)(a,e);var t=Object(ne.a)(a);function a(){var e;Object(ee.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={selected:"chats"},e.updatedSelected=function(t){e.setState({selected:t})},e.roomList=function(){return e.props.allRooms.filter((function(t){return t.title===e.props.roomName}))},e.renderContent=function(){return"chats"===e.state.selected?r.a.createElement(Nt,null):"people"===e.state.selected?r.a.createElement(Ge,{currentRoom:e.roomList()[0],userid:e.props.userid}):"edit"===e.state.selected?r.a.createElement(Rt,{currentRoom:e.roomList()[0],userid:e.props.userid}):r.a.createElement(Le,null)},e}return Object(te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"outer-layout"},r.a.createElement(Oe,{roomName:this.props.roomName,currentUser:this.props.currentUser}),r.a.createElement(me.a,{active:!this.props.isChatLoaded||this.props.joingNewRoom,spinner:!0,text:"Please wait while we load your chats..."},r.a.createElement("div",{className:"sub-window"},r.a.createElement(Ue,{updatedSelected:this.updatedSelected,current:this.state.selected}),this.renderContent())))}}]),a}(r.a.Component)),jt=Object(i.b)((function(e){return{isChatLoaded:e.chatReducer.isChatLoaded,roomName:e.chatReducer.roomName,currentUser:e.chatReducer.currentUser,joingNewRoom:e.currentUser.joingNewRoom,allRooms:e.currentUser.allRooms,userid:e.currentUser.user._id}}))(yt),kt=(a(282),a(283),Object(m.e)(E,Object(m.d)(Object(m.a)(f.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})));var St=function(){if(localStorage.jwtToken&&B(localStorage.jwtToken),kt.getState().currentUser.user)return r.a.createElement(i.a,{store:kt},r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,strict:!0,component:Z}),r.a.createElement(l.a,{path:"/authenticate/:type",exact:!0,strict:!0,component:le}),r.a.createElement(l.a,{path:"/chat",exact:!0,strict:!0,component:jt}),r.a.createElement(l.a,{path:"/rooms",exact:!0,strict:!0,component:Ae}),r.a.createElement(l.a,{component:q})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(St,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,a){e.exports=a.p+"static/media/icon-logo-2.dc3cddb7.png"},91:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAABHNCSVQICAgIfAhkiAAABXtJREFUWEe1mNtvFFUcxz9nd2Z2tlAQmrZbCl4qvVAKGBOfjb6Y+KBIpCgXETFCYkANAW9EEUJCMEUEFFAIgYpSjcHrP+CLjyYQLFACaKE3CY1y25nZmWPOzG67Wzrb3S2dx93Zs5/z/f5u5wgppSTkUd/cdiUHrzr8ccMDIcJeHftzKXm0PMKamTrxqCDfSiIMSgH125Ktl2y+7LZJ+ezjgEJiRASrZ8bYUqdTqYvQPYZCXXckb5yz6OixcXye8QBlhJREgdaaGPuaDKbro695F5QS5IYr2XrR5tO/bFKevEdAww4rlvUPxPiwTmeysnIEWw5UxrIPLtocuXIvLAuNVgwhWFlrsO1hgyojFywH6r+UZGOXzdErNtYEKJSLKFGKvVRr0lavMzXLSh9KKTSYkmy/ZLNngiwbXTMFJnwrN9fpTE1bKTxPyj5bsqnL4kSvMyExlL9eBGCtNQZt9Wkrbzme3HDB5vDfFo7/61KyLFPqSvmt+k+JBrwyK0Zbg4H4rs+RS08ncTyvZKAKXfD4NJ3fBh2uBfVj7GJ61xuSWfEoJxfEEQe6bbn2T8unLf6RTNEifNEc46kKjV/+SbG20+KWW+wGJZOigv3NcZZUR9NQnRaEd5uwJkR5VHBobpzFCc3XRi3R0e/w6pliwCR6RHCspYzW6igRQSlQgaLTNMHHjSbLExqx6LBdlitp703xdpfFdUcpli9OJTWxCDsbTJYmNB/If9u3ryilpK/QZ3NMFlcHQNkRpNRKepKve1N+mwq3MrDsk6Y4KxJRzKyNFQEVKHSfJtg7x2RZjZ43nBXcV30O6zot/k2NiDEpmaQJjraUsUjF0IgAKQpK9andjQpIy9lZWIIk01ZuPJ8NFli2oyGwPmNZ9hoFQkmmahEONpssrIr6fauQoUGppdrVt/0pXk9nZVQIDjSbLEuEb6wgqGka7G82aa3WC4IZqZwyvqPP4Z0um12NJgsrgywLewqCemxKhBPz4zxUFimtLEq4nPTY2+3wUZ3BZG2MybOQ7IsJWFKjc3iu6Q9phVg3PNaB7UlWn7H4acDhyQqNYy0xyrXwDRakVFBpJM9W6X5c5Rtlsy1R48eALVnTafPzgE0mB1sTOnsaY1TGRgcrGEq1oQiwcobB1tkGtWZ+K1Uc9VqSzV0W7T02qaEiKjH9OcqgrSHml4ZxlISgm6tZ7LkqnfZ5cfTI6K1XAamsW37a8hWyfYmy/lqq1gJPV+ocazEpHwFWhFLDUaKWX1RtsLcxRiKWWx6UZb22ZF2nzQ9py8LQVXyqWN3VEKMqy8oSoIbnnxUzDLbXGySMiC+EUmjA9ni3y+Z4j43tN4F8Y4zEjMByNeA1GkPBXyJUBkzwTLVGx/w4qnWpLFtyKsmvAw6pgo5lQetSij1RofP9grSVwTyVTM9TxQ5n0tdhaY3Bpgd1dl52+KY3yLLiBr3gPLiq1mBnQwzx+2BKLj6V5ErSLXKh4RgzBNwfj9J9x8Ua07KwOi6pL4vy4yMmwvU82THg8tqZO9wMNA+v/xP4jYqtI/PKaK2KIjwppSslh666bLmQpN/P32LlL5U2iCk1NWybbfLyDNUTBUPnPg/JyQGXN88luZosdsYuHUoV4d1NJosqNT+DlU85J2TXkxzvd3nr7B3UBcfEKRasPUUTfN5cxovp2Tyztdy7BMCTkvY+l/fOJ+m1JspKyUw16DXGeSFzWMgS++5bFwXmSU5ec1nfmQG7l8EfTJ575uRalh0AofdTKvgP97hsOHubm6pajDv4A8vMiGBfc5xVNaOPwn6K5bvJU2An+l3e77L8W71xVQsJNaZgR73J81Xp811IfoRCBY0ksPLsbY/BYPYY1zNdh6ay6FCWhS32Pyexv/7m7J1UAAAAAElFTkSuQmCC"},92:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAABHNCSVQICAgIfAhkiAAAAYBJREFUOE9jtAqd/5+BBoBxUBr8/z+qZxkZGeF+J9nFIKPkpfgYIn20GdQUhRlYmCGGHTv/hGHm8vPkGQxykJmeFENRkgWDtAQvA7ILdx6+y9A0+TB5BvPxsDG0FDkyGGlLoBgKMo0ig+Uk+RgWdPsxsLOxgF125eYrhvW7bzL8+v2X4cWbLwzXbr8hz8VqCkIM87v84JrLu/YwHDnzBGtiJSny0A0ubt3FcOLiM/IMZmNlYhDk52BgZmJiUJQRYOiqcIEb1DrtMMOFay/B/C/ffjF8+vKL+KBQVxRiyE8wYxAS4GIAWSIuwgPX/PrdV4YfP/+C+Su2XGHYsPsW8QbrqosxNOXbM4iJcOPN+FW9+xgOnnxEXYNBOTCmaAPDg6cfiTdYTJiLwcFcnoGbk41BWJCTIdBNA655x6E7DE+ef2b4z/CfYdmmq+BkBwNEpQomUK5lZGQApYq5Hb5wzSXtuxhOXnzOwPCfgeEferlBSulG1eSGHGOjBsNDY3gHBQBJUcn1v/qwfQAAAABJRU5ErkJggg=="},93:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAABHNCSVQICAgIfAhkiAAAA3FJREFUSEvFV01IVFEU/u68+XF0zFFH0cxIK0LKMEqUSFTo11ooZa6k2kXgxk2rIvohLIgWEe20RbQwMpIQUkIzCkJSFxFaIYY6zfg3P47z/26chyMz+mbe00QvDDzmfvd83zn33HPvYYganPPLAC4BKAFgjp77z28HgCEAbYyx5xFbjD4450TUAaDqP0nULO8FUMcYc0TI6Y9KNSs3CNPLGKtmS6Fu3SCjazFzhcg32+uIwD4ip2RIW4vkDcI6iJyvNCZyDg2T0kFx0PJpXxjtv934aPUhzDmO5RjRsNuEnGQtGGNwB0V4QyKyjdoYe7Lkj4fn0VRshqBRFjA040PjB5tEEj0YOB6WWdBv86JrfBEdp3KRn6pLTO4KhFH5dhL5Ji1enciBXtDE9X7MFURDjxW+sDyEokKSHpRbYEnS4JAlKcahVZ7/cQdR0zUlLcpMEnCnNEMK40rPiO7R8DzaRt0Jt8YoMOgFoLnYjLrC1MSeLwZFVHVOLHvDwVGTn4LGvSbszzDEiLjaZ8Nnuz8huU4D3CvNxOmdKatwsnt+a2AWr8c8MWASUWTW4WJhKorS9TAbNLjxdRYDM4GE5HnJArrO5sliVpGHRQ6bN4Tz3VZ4gorJrgjYl6ZF+8nt6sgnFoKo7/6LFC2D3ScqGlcCnMlPRku5RR05ndP691b8coWU7Kqav30kA7UFJnXkhOqdWkTTp2nZDFfFuASio0bne0+aXj05LXrx040n353wBMV1izDrGXrO7YBekC9WstlOMq2eIMbcIdwfnMP4QpwqohCGZxVZOJpjjIuKSz7tDaG6c1IqNnIFRin8uUYN3tXkQZugRMclp9APTPtxrd8O/xqTPlkAXh7PRcG22Fq+UnBc8giQ6jfdWCTkhyOgGAUtA24ejp/hMZeP3JUaDQiJHIMzfrQMzWHUmfj4GQTgekk6Lqyo4fG2KMZzCrUzICIQ5tId/MXmQ+uIC3ZvOLHHnMNsEPC0IgsHMgxK6bA8v4p83i/i7rc5dE8sSiClZNNrgOaDZslbukSU8Iphp5cMeTviCEivk+FZH2zeMEIcMGkZdqXqUJadJP0oqUzEuo6h+g1HgqRIqIiGSh3OLX+9Uou0Ne92CtEWvN37GGNV0b3am01qmfoA1C73apEEWWqdaBuoS93IRsIZ1aW2Rfj+AUTuj/DqLVakAAAAAElFTkSuQmCC"}},[[182,1,2]]]);
//# sourceMappingURL=main.7aa18702.chunk.js.map